[
  {
    "type": "constructor",
    "inputs": [
      {
        "name": "_hasher",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "_verifiers",
        "type": "address[]",
        "internalType": "address[]"
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "MAX_DEPTH",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "balanceCommitment",
    "inputs": [
      {
        "name": "",
        "type": "bytes32",
        "internalType": "bytes32"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bytes32",
        "internalType": "bytes32"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "callContract",
    "inputs": [
      {
        "name": "_proof",
        "type": "bytes",
        "internalType": "bytes"
      },
      {
        "name": "_publicInputs",
        "type": "bytes32[]",
        "internalType": "bytes32[]"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "deposit",
    "inputs": [
      {
        "name": "_proof",
        "type": "bytes",
        "internalType": "bytes"
      },
      {
        "name": "_publicInputs",
        "type": "bytes32[]",
        "internalType": "bytes32[]"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "emptyRoot",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "forceCacheRebuild",
    "inputs": [],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "generateProof",
    "inputs": [
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "tuple",
        "internalType": "struct IndexedMerkleTreeMiMCCached.Proof",
        "components": [
          {
            "name": "leafIdx",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "leaf",
            "type": "tuple",
            "internalType": "struct IndexedMerkleTreeMiMCCached.Leaf",
            "components": [
              {
                "name": "key",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "nextIdx",
                "type": "uint32",
                "internalType": "uint32"
              },
              {
                "name": "nextKey",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "value",
                "type": "uint256",
                "internalType": "uint256"
              }
            ]
          },
          {
            "name": "root",
            "type": "uint256",
            "internalType": "uint256"
          },
          {
            "name": "siblings",
            "type": "uint256[32]",
            "internalType": "uint256[32]"
          }
        ]
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "getHistoricalRootByIndex",
    "inputs": [
      {
        "name": "index",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafCount",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getHistoricalRootCount",
    "inputs": [],
    "outputs": [
      {
        "name": "count",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getHistoricalRootData",
    "inputs": [
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "leafCount",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getLatestHistoricalRoot",
    "inputs": [],
    "outputs": [
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafCount",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getRoot",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "getTreeStats",
    "inputs": [],
    "outputs": [
      {
        "name": "numLeaves",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "isDirty",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getVerifier",
    "inputs": [
      {
        "name": "index",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "hashChildren",
    "inputs": [
      {
        "name": "left",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "right",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "hashLeaf",
    "inputs": [
      {
        "name": "leaf",
        "type": "tuple",
        "internalType": "struct IndexedMerkleTreeMiMCCached.Leaf",
        "components": [
          {
            "name": "key",
            "type": "uint64",
            "internalType": "uint64"
          },
          {
            "name": "nextIdx",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "nextKey",
            "type": "uint64",
            "internalType": "uint64"
          },
          {
            "name": "value",
            "type": "uint256",
            "internalType": "uint256"
          }
        ]
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "hasher",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "contract IHasher"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "historicalRoots",
    "inputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafCount",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "initCommit",
    "inputs": [
      {
        "name": "_proof",
        "type": "bytes",
        "internalType": "bytes"
      },
      {
        "name": "_publicInputs",
        "type": "bytes32[]",
        "internalType": "bytes32[]"
      }
    ],
    "outputs": [],
    "stateMutability": "payable"
  },
  {
    "type": "function",
    "name": "insertLeaf",
    "inputs": [
      {
        "name": "key",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "value",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "newRoot",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "insertLeafWithHistory",
    "inputs": [
      {
        "name": "key",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "value",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "leafIdx",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "newRoot",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "wasStored",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "isHistoricalRoot",
    "inputs": [
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "exists",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "knownNonceCommitments",
    "inputs": [
      {
        "name": "",
        "type": "bytes32",
        "internalType": "bytes32"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "rootHashes",
    "inputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "totalHistoricalRoots",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "transfer",
    "inputs": [
      {
        "name": "_proof",
        "type": "bytes",
        "internalType": "bytes"
      },
      {
        "name": "_publicInputs",
        "type": "bytes32[]",
        "internalType": "bytes32[]"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "treeState",
    "inputs": [],
    "outputs": [
      {
        "name": "numLeaves",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "root",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "isDirty",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "verifiersByIndex",
    "inputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "verifyExclusionProof",
    "inputs": [
      {
        "name": "excludedKey",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "proof",
        "type": "tuple",
        "internalType": "struct IndexedMerkleTreeMiMCCached.Proof",
        "components": [
          {
            "name": "leafIdx",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "leaf",
            "type": "tuple",
            "internalType": "struct IndexedMerkleTreeMiMCCached.Leaf",
            "components": [
              {
                "name": "key",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "nextIdx",
                "type": "uint32",
                "internalType": "uint32"
              },
              {
                "name": "nextKey",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "value",
                "type": "uint256",
                "internalType": "uint256"
              }
            ]
          },
          {
            "name": "root",
            "type": "uint256",
            "internalType": "uint256"
          },
          {
            "name": "siblings",
            "type": "uint256[32]",
            "internalType": "uint256[32]"
          }
        ]
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "pure"
  },
  {
    "type": "function",
    "name": "verifyProof",
    "inputs": [
      {
        "name": "proof",
        "type": "tuple",
        "internalType": "struct IndexedMerkleTreeMiMCCached.Proof",
        "components": [
          {
            "name": "leafIdx",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "leaf",
            "type": "tuple",
            "internalType": "struct IndexedMerkleTreeMiMCCached.Leaf",
            "components": [
              {
                "name": "key",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "nextIdx",
                "type": "uint32",
                "internalType": "uint32"
              },
              {
                "name": "nextKey",
                "type": "uint64",
                "internalType": "uint64"
              },
              {
                "name": "value",
                "type": "uint256",
                "internalType": "uint256"
              }
            ]
          },
          {
            "name": "root",
            "type": "uint256",
            "internalType": "uint256"
          },
          {
            "name": "siblings",
            "type": "uint256[32]",
            "internalType": "uint256[32]"
          }
        ]
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "withdraw",
    "inputs": [
      {
        "name": "_proof",
        "type": "bytes",
        "internalType": "bytes"
      },
      {
        "name": "_publicInputs",
        "type": "bytes32[]",
        "internalType": "bytes32[]"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "event",
    "name": "CacheRebuilt",
    "inputs": [
      {
        "name": "numLeaves",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "root",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "EntryCommitmentCreated",
    "inputs": [
      {
        "name": "mainIndexedTreeCommitment",
        "type": "uint256",
        "indexed": true,
        "internalType": "uint256"
      },
      {
        "name": "nonceCommitment",
        "type": "uint256",
        "indexed": true,
        "internalType": "uint256"
      },
      {
        "name": "encryptedAmount",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "encryptedTokenAddress",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "encryptedPersonalImtRoot",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "user",
        "type": "address",
        "indexed": true,
        "internalType": "address"
      },
      {
        "name": "mainCommitmentLeafIdx",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "nonceCommitmentLeafIdx",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "mainCommitmentRoot",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "nonceCommitmentRoot",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "historicalIndex",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "HistoricalRootStored",
    "inputs": [
      {
        "name": "root",
        "type": "uint256",
        "indexed": true,
        "internalType": "uint256"
      },
      {
        "name": "leafCount",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "leafIdx",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "LeafInserted",
    "inputs": [
      {
        "name": "leafIdx",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "key",
        "type": "uint64",
        "indexed": false,
        "internalType": "uint64"
      },
      {
        "name": "value",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "newRoot",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "LeafInsertedWithHistory",
    "inputs": [
      {
        "name": "leafIdx",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "key",
        "type": "uint64",
        "indexed": false,
        "internalType": "uint64"
      },
      {
        "name": "value",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "newRoot",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "historicalIndex",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  }
]
